<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PvZ2 level randomizer</title>
    <link rel="stylesheet" href="style.css">
    <script src="randombg.js"></script>
    <style>
        .level-preview {
            border: 2px solid #333;
            padding: 10px;
            width: 300px;
            margin: 10px;
        }
        .level-preview .variable {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #333;
        }
        .variable-name {
            font-weight: bold;
        }
        .variable-value {
            text-align: right;
        }
        #zombieSelectionModal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        #zombieSelectionContent {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-height: 60%;
            overflow-y: auto;
        }
        .zombie-checkbox {
            margin: 5px;
        }
        .zombie-category {
            margin-bottom: 15px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
        }
        .zombie-category h3 {
            margin-top: 0;
        }
    </style>
</head>

<body>
    <div id="snackbar">Some text some message..</div>
    <div id="div1" class="filename-container">
        <label>Options:</label>
            <select onchange="setMod(this.value)" name="mod" id="modOption">
                <option value="vnl" disabled>VNL (Coming Soon)</option> <!-- Disabled VNL -->
                <option value="rfl" selected>RFL</option> <!-- Default selected -->
            </select>


        <label>Filename: </label><select id="filename"></select>
        <input style="width: 40px;" value="1" type="number" min="1" max="40" id="levelnum">
        .json<br>
        <label>Stage: </label>
        <select id="stage"></select>
        <br>
        <h2>Select Difficulty</h2>
        <div class="select-container">
            <label for="difficulty">Difficulty Level:</label>
            <select id="difficulty" name="difficulty" onchange="updateDifficultyText(this)">
                <option hidden defaultSelected>-</option>
                <option value="1">Easy</option>
                <option value="2">Normal</option>
                <option value="3">Inzane</option>
                <option value="4">CRAAAZY!</option>
                <option value="5">Johan</option>
            </select>
        </div><br>
    </div>
    
    <div class="filename-container">
        <h2>PvZ2 Level Preview</h2>
    
        <div id="levelPreview" class="inner-container">
            <!-- This is where the preview will appear -->
        </div>
        <button onclick="generatePreview()">Preview Variables</button><br>
        <button id="Copy" onclick="copyCode()">Copy</button>
        <p> or </p>
        <button id="buttonA" onclick="startDownload()">Download</button>
        <button id="selectZombiesBtn" onclick="openZombieSelection()">Select Zombies Manually</button>
        <div id="discordReminder" style="text-align: center; margin-top: 20px;">
            <p>Don't forget to join our <a href="https://discord.gg/PkKZV2heCP" target="_blank">Discord server</a> to report any bugs!</p>
        </div>
    </div>

    <!-- Zombie Selection Modal -->
    <div id="zombieSelectionModal">
        <div id="zombieSelectionContent">
            <h2>Select Zombies to Include</h2>
            <div id="zombieCategories"></div>
            <button onclick="applyZombieSelection()">Apply Selection</button>
            <button onclick="closeModal()">Cancel</button>
        </div>
        
    </div>

    <a href="loadObjects.html" id="redirect"></a>

    <h4><a id="home" href="index.html">Home page</a></h4>
    <script src="randomizer.js"></script>
</body>

</html>